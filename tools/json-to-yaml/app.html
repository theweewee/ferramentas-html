<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON ËΩ¨ YAML</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #888;
            font-size: 0.95rem;
        }

        .editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            height: calc(100vh - 180px);
            min-height: 400px;
        }

        .panel {
            background: rgba(30, 30, 50, 0.8);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 16px;
            background: rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-title {
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-title .icon {
            font-size: 1.1rem;
        }

        .copy-btn {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.4);
            color: #667eea;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .copy-btn:hover {
            background: rgba(102, 126, 234, 0.3);
        }

        .copy-btn.copied {
            background: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.4);
            color: #22c55e;
        }

        textarea {
            flex: 1;
            background: transparent;
            border: none;
            color: #e0e0e0;
            padding: 16px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            outline: none;
        }

        textarea::placeholder {
            color: #666;
        }

        .error {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(239, 68, 68, 0.95);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.9rem;
            display: none;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .error.show {
            display: block;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .example-btn {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.4);
            color: #8b5cf6;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-left: 8px;
            transition: all 0.2s;
        }

        .example-btn:hover {
            background: rgba(139, 92, 246, 0.3);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            color: #888;
            text-decoration: none;
            font-size: 0.85rem;
            margin-bottom: 20px;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: #667eea;
        }

        @media (max-width: 768px) {
            .editor-container {
                grid-template-columns: 1fr;
                height: auto;
            }

            .panel {
                height: 300px;
            }

            .header h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../.." class="back-link">
            <span>‚Üê</span> ËøîÂõû JustHTMLs
        </a>

        <div class="header">
            <h1>JSON ËΩ¨ YAML</h1>
            <p>Âú®Â∑¶‰æßËæìÂÖ• JSONÔºåÂè≥‰æßËá™Âä®ËΩ¨Êç¢‰∏∫ YAML</p>
        </div>

        <div class="editor-container">
            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title"><span class="icon">{}</span> JSON ËæìÂÖ•</span>
                    <div>
                        <button class="example-btn" onclick="loadExample()">Âä†ËΩΩÁ§∫‰æã</button>
                        <button class="copy-btn" onclick="copyInput()">Â§çÂà∂</button>
                    </div>
                </div>
                <textarea id="json-input" placeholder='Á≤òË¥¥ÊàñËæìÂÖ• JSONÔºå‰æãÂ¶ÇÔºö
{
  "name": "Âº†‰∏â",
  "age": 25,
  "hobbies": ["ËØª‰π¶", "ÊóÖÊ∏∏"]
}'></textarea>
            </div>

            <div class="panel">
                <div class="panel-header">
                    <span class="panel-title"><span class="icon">üìÑ</span> YAML ËæìÂá∫</span>
                    <button class="copy-btn" id="copy-output" onclick="copyOutput()">Â§çÂà∂</button>
                </div>
                <textarea id="yaml-output" readonly placeholder="YAML ËæìÂá∫Â∞ÜÊòæÁ§∫Âú®ËøôÈáå..."></textarea>
            </div>
        </div>
    </div>

    <div class="error" id="error"></div>

    <script>
        const jsonInput = document.getElementById('json-input');
        const yamlOutput = document.getElementById('yaml-output');
        const errorEl = document.getElementById('error');

        // Simple JSON to YAML converter
        function jsonToYaml(obj, indent = 0) {
            const spaces = '  '.repeat(indent);

            if (obj === null) {
                return 'null';
            }

            if (typeof obj !== 'object') {
                return String(obj);
            }

            if (Array.isArray(obj)) {
                if (obj.length === 0) {
                    return '[]';
                }
                return obj.map(item => {
                    if (typeof item === 'object' && item !== null) {
                        return '-\n' + jsonToYaml(item, indent + 1).split('\n').map(line => spaces + line).join('\n');
                    }
                    return '- ' + jsonToYaml(item, 0);
                }).join('\n' + spaces);
            }

            const lines = [];
            for (const [key, value] of Object.entries(obj)) {
                if (typeof value === 'object' && value !== null) {
                    if (Array.isArray(value)) {
                        if (value.length === 0) {
                            lines.push(`${spaces}${key}: []`);
                        } else if (typeof value[0] !== 'object' || value[0] === null) {
                            // Simple array
                            lines.push(`${spaces}${key}: ${jsonToYaml(value, indent)}`);
                        } else {
                            // Array of objects
                            lines.push(`${spaces}${key}:`);
                            value.forEach(item => {
                                lines.push(spaces + '  -');
                                const inner = jsonToYaml(item, indent + 2);
                                lines.push(inner);
                            });
                        }
                    } else {
                        lines.push(`${spaces}${key}:`);
                        lines.push(jsonToYaml(value, indent + 1));
                    }
                } else {
                    lines.push(`${spaces}${key}: ${jsonToYaml(value, indent)}`);
                }
            }
            return lines.join('\n');
        }

        function convert() {
            const input = jsonInput.value.trim();

            if (!input) {
                yamlOutput.value = '';
                return;
            }

            try {
                const obj = JSON.parse(input);
                const result = jsonToYaml(obj);
                yamlOutput.value = result;
                hideError();
            } catch (e) {
                showError('JSON Ê†ºÂºèÈîôËØØ: ' + e.message);
            }
        }

        function showError(msg) {
            errorEl.textContent = msg;
            errorEl.classList.add('show');
            setTimeout(() => errorEl.classList.remove('show'), 5000);
        }

        function hideError() {
            errorEl.classList.remove('show');
        }

        function copyOutput() {
            if (!yamlOutput.value) return;
            navigator.clipboard.writeText(yamlOutput.value);
            const btn = document.getElementById('copy-output');
            btn.textContent = 'Â∑≤Â§çÂà∂!';
            btn.classList.add('copied');
            setTimeout(() => {
                btn.textContent = 'Â§çÂà∂';
                btn.classList.remove('copied');
            }, 2000);
        }

        function copyInput() {
            if (!jsonInput.value) return;
            navigator.clipboard.writeText(jsonInput.value);
            event.target.textContent = 'Â∑≤Â§çÂà∂!';
            setTimeout(() => {
                event.target.textContent = 'Â§çÂà∂';
            }, 2000);
        }

        function loadExample() {
            jsonInput.value = `{
  "name": "Âº†‰∏â",
  "age": 28,
  "city": "Âåó‰∫¨",
  "hobbies": ["ÈòÖËØª", "ÊóÖÊ∏∏", "ÊëÑÂΩ±"],
  "education": {
    "degree": "Êú¨Áßë",
    "major": "ËÆ°ÁÆóÊú∫ÁßëÂ≠¶",
    "university": "Ê∏ÖÂçéÂ§ßÂ≠¶"
  },
  "projects": [
    {
      "name": "È°πÁõÆA",
      "role": "Ë¥üË¥£‰∫∫",
      "status": "ËøõË°å‰∏≠"
    },
    {
      "name": "È°πÁõÆB",
      "role": "ÂèÇ‰∏éËÄÖ",
      "status": "Â∑≤ÂÆåÊàê"
    }
  ]
}`;
            convert();
        }

        jsonInput.addEventListener('input', convert);

        // Auto-resize textareas
        function autoResize() {
            // Optional: auto-resize functionality
        }

        // Initial load
        loadExample();
    </script>
</body>
</html>
